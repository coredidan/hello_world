# Capacity Manager

CLI —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç—Ä–∏–∫ Grafana –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –∫–∞–Ω–∞–ª–æ–≤ —Å–≤—è–∑–∏.

## –û–ø–∏—Å–∞–Ω–∏–µ

Capacity Manager - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ —Å–≤—è–∑–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞. –£—Ç–∏–ª–∏—Ç–∞:

- –°–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ Grafana (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫, —É—Ç–∏–ª–∏–∑–∞—Ü–∏—è)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –≤–Ω–µ—à–Ω–∏—Ö –∫–∞–Ω–∞–ª–æ–≤, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –º–µ–∂–¥—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –º–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- –í—ã—è–≤–ª—è–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã (–ø–æ—Ä–æ–≥–∏ >70% warning, >85% critical)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (–∫–æ–Ω—Å–æ–ª—å, HTML, CSV, Excel)
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∫–∞–Ω–∞–ª–æ–≤

–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã—Å—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –∫–æ–º–ø–∞–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å–≤—è–∑–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á—ë—Ç–æ–≤**: –∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å, HTML –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, CSV/Excel –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤**: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–¢—Ä–∏ —Ç–∏–ø–∞ –∫–∞–Ω–∞–ª–æ–≤**: –≤–Ω–µ—à–Ω–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ, –º–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –î–æ—Å—Ç—É–ø –∫ Grafana API
- API —Ç–æ–∫–µ–Ω Grafana

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd hello_world

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
pip install -e .
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
cp config.example.yaml config.yaml
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `config.yaml`:

```yaml
grafana:
  url: "https://your-grafana.com"
  token: "$GRAFANA_TOKEN"  # –∏–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
  verify_ssl: true

channels:
  - name: "Internet-Provider1"
    type: "external"
    capacity_mbps: 10000
    description: "Primary Internet uplink"
    site_a: "MSK-DC1"
    device_a: "CORE-RTR-01"
    interface_pattern: "GigabitEthernet0/0/1"
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º:
```bash
export GRAFANA_TOKEN="your-api-token-here"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞ Grafana

1. –í–æ–π—Ç–∏ –≤ Grafana
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ Configuration ‚Üí API Keys
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á —Å –ø—Ä–∞–≤–∞–º–∏ Viewer
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
capacity-manager check
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –≤ –∫–æ–Ω—Å–æ–ª—å

```bash
capacity-manager report
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á—ë—Ç–∞

```bash
capacity-manager report --format html --output report.html
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á—ë—Ç–∞

```bash
capacity-manager report --format excel --hours 48
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

```bash
capacity-manager report --format all
```

### –ü–æ–∏—Å–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤

```bash
capacity-manager alert --threshold 85
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–Ω–∞–ª—É

```bash
capacity-manager detail "Internet-Provider1" --hours 24
```

## –ö–æ–º–∞–Ω–¥—ã

### `capacity-manager check`

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Grafana –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ datasources.

**–û–ø—Ü–∏–∏:**
- `-c, --config` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: config.yaml)
- `-v, --verbose` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥

### `capacity-manager report`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–Ω–∞–ª–æ–≤.

**–û–ø—Ü–∏–∏:**
- `-h, --hours` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∏–∑ config)
- `-f, --format` - —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞: console, html, csv, excel, all (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: console)
- `-o, --output` - –ø—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞
- `-c, --config` - –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `-v, --verbose` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
capacity-manager report

# HTML –æ—Ç—á—ë—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 48 —á–∞—Å–æ–≤
capacity-manager report --hours 48 --format html

# –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã
capacity-manager report --format all
```

### `capacity-manager alert`

–°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤, –ø—Ä–µ–≤—ã—à–∞—é—â–∏—Ö –ø–æ—Ä–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏.

**–û–ø—Ü–∏–∏:**
- `-t, --threshold` - –ø–æ—Ä–æ–≥ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 85)
- `-c, --config` - –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```bash
# –ö–∞–Ω–∞–ª—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π > 70%
capacity-manager alert --threshold 70
```

### `capacity-manager detail`

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–∞–Ω–∞–ª—É.

**–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
- `channel_name` - –∏–º—è –∫–∞–Ω–∞–ª–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–û–ø—Ü–∏–∏:**
- `-h, --hours` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 24)
- `-c, --config` - –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```bash
capacity-manager detail "Internet-Provider1" --hours 48
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É:

```
capacity_manager/
‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Channel, Metrics, Analysis)
‚îú‚îÄ‚îÄ config/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ grafana_api/      # –ö–ª–∏–µ–Ω—Ç Grafana API
‚îú‚îÄ‚îÄ metrics_collector/# –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ analyzer/         # –ê–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ç—Ä–µ–Ω–¥–æ–≤
‚îú‚îÄ‚îÄ reporters/        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ (Console, HTML, CSV)
‚îú‚îÄ‚îÄ cli/              # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îî‚îÄ‚îÄ utils/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
```

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω/–∑–∞–º–µ–Ω—ë–Ω –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [ARCHITECTURE.md](ARCHITECTURE.md)

## –¢–∏–ø—ã –∫–∞–Ω–∞–ª–æ–≤

### External (–≤–Ω–µ—à–Ω–∏–µ)
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–∞–Ω–∞–ª—ã, –ø–∏—Ä–∏–Ω–≥–∏ —Å –¥—Ä—É–≥–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∫–∞–Ω–∞–ª—ã.

### Inter-Site (–º–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ)
–ö–∞–Ω–∞–ª—ã –º–µ–∂–¥—É –ø–ª–æ—â–∞–¥–∫–∞–º–∏/–¶–û–î–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏.

### Transport (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ)
–í–Ω—É—Ç—Ä–∏–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –º–µ–∂–¥—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º (core-aggregation, aggregation-access).

## –ü–æ—Ä–æ–≥–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

| –£—Ä–æ–≤–µ–Ω—å | –£—Ç–∏–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
|---------|-----------|--------|--------------|
| Normal | < 70% | ‚úÖ –ù–æ—Ä–º–∞ | –®—Ç–∞—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ |
| Warning | 70-85% | ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –º–µ—Å—è—Ü–µ–≤ |
| Critical | > 85% | üö® –ö—Ä–∏—Ç–∏—á–Ω–æ | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –Ω–µ–¥–µ–ª—å |

## –§–æ—Ä–º–∞—Ç—ã –æ—Ç—á—ë—Ç–æ–≤

### Console (–∫–æ–Ω—Å–æ–ª—å)
–ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏, —Ü–≤–µ—Ç–∞–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏ (—á–µ—Ä–µ–∑ Rich library).

### HTML
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π HTML –æ—Ç—á—ë—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É.

### CSV
–ü—Ä–æ—Å—Ç–æ–π CSV —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ Excel/Google Sheets.

### Excel
–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π Excel —Ñ–∞–π–ª —Å:
- Summary (—Å–≤–æ–¥–∫–∞)
- All Channels (–≤—Å–µ –∫–∞–Ω–∞–ª—ã)
- Critical (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ)
- Warning (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á—ë—Ç–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
capacity-manager report --format html --output /var/www/reports/daily.html

# –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ email (—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ mail)
echo "Daily capacity report" | mail -s "Capacity Report" -a /var/www/reports/daily.html cto@company.com
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π > 85%
capacity-manager alert --threshold 85

# –ï—Å–ª–∏ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
capacity-manager detail "Critical-Channel-Name" --hours 48
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –≤ 9:00
0 9 * * * /usr/local/bin/capacity-manager report --format html --output /var/www/reports/daily_$(date +\%Y\%m\%d).html

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * /usr/local/bin/capacity-manager alert --threshold 85 | mail -s "Capacity Alert" ops@company.com
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º:

- **models/** - —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **config/** - –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç models
- **grafana_api/** - —Ç–æ–ª—å–∫–æ HTTP –∫–ª–∏–µ–Ω—Ç, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç models
- **metrics_collector/** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç grafana_api, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç models
- **analyzer/** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å models, –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **reporters/** - —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å models
- **cli/** - –æ—Ä–∫–µ—Å—Ç—Ä—É–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –æ—Ç—á—ë—Ç–∞

1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å –≤ `reporters/`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π `CapacityReport`
3. –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤ CLI

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –º–µ—Ç—Ä–∏–∫

1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –≤ –Ω–æ–≤–æ–º –º–æ–¥—É–ª–µ (–∞–Ω–∞–ª–æ–≥ `grafana_api/`)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å collector, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π `ChannelMetrics`
3. –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
